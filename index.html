<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ë‹¨ì–´ í•™ìŠµ í€´ì¦ˆ ê²Œì„</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background-color: #f0f8ff;
            padding: 20px;
            text-align: center;
        }
        h1 {
            color: #ff69b4;
        }
        #lesson-selection, #content, #quiz, #results {
            display: none;
        }
        .word-card {
            font-size: 32px;
            margin-bottom: 20px;
            color: #ff4500;
        }
        .example-sentences {
            margin-bottom: 20px;
            text-align: left;
            display: inline-block;
            text-align: left;
        }
        .quiz-options {
            list-style-type: none;
            padding: 0;
            display: inline-block;
            text-align: left;
        }
        .quiz-options li {
            margin-bottom: 10px;
        }
        .quiz-options button {
            background-color: #ffdab9;
            border: none;
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            border-radius: 10px;
        }
        .quiz-options button:hover {
            background-color: #ffb6c1;
        }
        .hidden {
            display: none;
        }
        .result {
            font-size: 24px;
            margin-top: 20px;
        }
        .correct {
            color: #32cd32;
        }
        .incorrect {
            color: #dc143c;
        }
        button {
            background-color: #add8e6;
            border: none;
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            border-radius: 10px;
        }
        button:hover {
            background-color: #87cefa;
        }
        input[type="text"] {
            padding: 10px;
            font-size: 18px;
            border-radius: 10px;
            border: 2px solid #87cefa;
            width: 80%;
            max-width: 300px;
        }
        #feedback {
            font-weight: bold;
        }
    </style>
</head>
<body>

<h1>ğŸŒŸ ë‹¨ì–´ í•™ìŠµ í€´ì¦ˆ ê²Œì„ ğŸŒŸ</h1>

<div id="lesson-selection">
    <h2>ë ˆìŠ¨ì„ ì„ íƒí•˜ì„¸ìš”</h2>
    <ul id="lesson-list"></ul>
</div>

<div id="content">
    <div id="word-display">
        <div class="word-card">
            <span id="english-word"></span> - <span id="korean-meaning"></span>
        </div>
        <button id="show-examples">ì˜ˆë¬¸ ë³´ê¸°</button>
    </div>
    <div id="examples" class="hidden">
        <h3>ì˜ˆë¬¸:</h3>
        <ul id="example-sentences" class="example-sentences"></ul>
        <button id="next-word">ë‹¤ìŒ ë‹¨ì–´</button>
    </div>
</div>

<div id="quiz">
    <h2 id="quiz-type"></h2>
    <div id="quiz-question"></div>
    <ul id="quiz-options" class="quiz-options"></ul>
    <div id="quiz-input" class="hidden">
        <input type="text" id="user-input" placeholder="ì •ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
        <button id="submit-answer">ì œì¶œ</button>
    </div>
    <div id="feedback" class="result"></div>
</div>

<div id="results">
    <h2>ê²°ê³¼</h2>
    <p>ì´ ë¬¸ì œ ìˆ˜: <span id="total-questions"></span></p>
    <p>í‹€ë¦° ë¬¸ì œ ìˆ˜: <span id="incorrect-answers"></span></p>
    <button onclick="location.reload()">ë‹¤ì‹œ ì‹œì‘</button>
</div>

<script>
    // ë°ì´í„° êµ¬ì¡° ì •ì˜
    const lessons = {
        'ë ˆìŠ¨1': [
            {
                english: 'flower',
                korean: 'ê½ƒ',
                examples: [
                    'The flower smells sweet.',
                    'She gave her mom a beautiful flower.',
                    'Bees love the flower in the garden.'
                ]
            },
            {
                english: 'squirrel',
                korean: 'ë‹¤ëŒì¥',
                examples: [
                    'The squirrel climbs the tree.',
                    'I saw a squirrel eating nuts.',
                    'Squirrels have fluffy tails.'
                ]
            },
            {
                english: 'nut',
                korean: 'ê²¬ê³¼',
                examples: [
                    'I like to eat a nut for a snack.',
                    'The squirrel is hiding a nut.',
                    'He cracked the nut open.'
                ]
            },
            {
                english: 'noise',
                korean: 'ì†ŒìŒ',
                examples: [
                    'The loud noise scared the cat.',
                    'Please be quiet; too much noise!',
                    'I heard a strange noise outside.'
                ]
            },
            {
                english: 'hole',
                korean: 'êµ¬ë©',
                examples: [
                    'There is a hole in my sock.',
                    'The rabbit went into the hole.',
                    'We dug a hole in the sand.'
                ]
            },
            {
                english: 'pick',
                korean: '(ê½ƒì„) êº¾ë‹¤',
                examples: [
                    'Letâ€™s pick flowers in the field.',
                    'She wants to pick the red rose.',
                    'Do not pick the neighborâ€™s flowers.'
                ]
            },
            {
                english: 'gather',
                korean: 'ëª¨ìœ¼ë‹¤',
                examples: [
                    'They gather shells on the beach.',
                    'Letâ€™s gather sticks for the fire.',
                    'We gather together every weekend.'
                ]
            },
            {
                english: 'high',
                korean: 'ë†’ì€',
                examples: [
                    'The bird is flying high.',
                    'That is a high mountain.',
                    'He can jump high.'
                ]
            }
        ],
        // ... [ë ˆìŠ¨2ë¶€í„° ë ˆìŠ¨8ê¹Œì§€ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ì‘ì„±]
        // ìƒëµëœ ë ˆìŠ¨ ë°ì´í„°ëŠ” ì•„ë˜ì—ì„œ ê³„ì†ë©ë‹ˆë‹¤.
        'ë ˆìŠ¨2': [
            {
                english: 'dig',
                korean: 'íŒŒë‹¤',
                examples: [
                    'The dog likes to dig holes.',
                    'Letâ€™s dig for treasure!',
                    'They dig in the garden.'
                ]
            },
            {
                english: 'hear',
                korean: 'ë“£ë‹¤',
                examples: [
                    'Can you hear the music?',
                    'I hear a bird singing.',
                    'She cannot hear without her hearing aid.'
                ]
            },
            {
                english: 'hop',
                korean: 'ê¹¡ì¶© ë›°ë‹¤',
                examples: [
                    'The rabbit can hop fast.',
                    'Letâ€™s hop like frogs!',
                    'Birds hop on the ground.'
                ]
            },
            {
                english: 'find',
                korean: 'ì°¾ë‹¤',
                examples: [
                    'Help me find my lost toy.',
                    'Did you find the answer?',
                    'They find a secret door.'
                ]
            },
            {
                english: 'leave',
                korean: 'ë– ë‚˜ë‹¤',
                examples: [
                    'Itâ€™s time to leave for school.',
                    'Donâ€™t leave me alone.',
                    'We will leave at noon.'
                ]
            },
            {
                english: 'large',
                korean: 'í¬ë‹¤',
                examples: [
                    'That is a large pizza!',
                    'Elephants are large animals.',
                    'She has a large doll collection.'
                ]
            },
            {
                english: 'safe',
                korean: 'ì•ˆì „í•œ',
                examples: [
                    'The children are safe at home.',
                    'Wear a helmet to be safe.',
                    'This is a safe place to play.'
                ]
            }
        ],
        // ê³„ì†í•´ì„œ ë ˆìŠ¨3ë¶€í„° ë ˆìŠ¨8ê¹Œì§€ ë™ì¼í•˜ê²Œ ì‘ì„±í•©ë‹ˆë‹¤.
        'ë ˆìŠ¨3': [
            {
                english: 'owner',
                korean: 'ì£¼ì¸',
                examples: [
                    'The dog waits for its owner.',
                    'Are you the owner of this bike?',
                    'The shop owner is friendly.'
                ]
            },
            {
                english: 'home',
                korean: 'ì§‘',
                examples: [
                    'Welcome to my home.',
                    'He went home after school.',
                    'Home is where the heart is.'
                ]
            },
            {
                english: 'apartment',
                korean: 'ì•„íŒŒíŠ¸',
                examples: [
                    'They live in an apartment.',
                    'Our apartment is on the fifth floor.',
                    'The apartment has a nice view.'
                ]
            },
            {
                english: 'follow',
                korean: 'ë”°ë¼ê°€ë‹¤',
                examples:
                [
                    'Please follow me.',
                    'The puppy will follow you.',
                    'Letâ€™s follow the map.'
                ]
            },
            {
                english: 'lost',
                korean: '(ê¸¸ì„) ìƒì€',
                examples: [
                    'I am lost in the park.',
                    'She found her lost cat.',
                    'He feels lost without his friend.'
                ]
            },
            {
                english: 'sad',
                korean: 'ìŠ¬í”ˆ',
                examples: [
                    'She is sad about the news.',
                    'The movie was sad.',
                    'Donâ€™t be sad; cheer up!'
                ]
            },
            {
                english: 'lonely',
                korean: 'ì™¸ë¡œìš´',
                examples: [
                    'He feels lonely in the new town.',
                    'Sometimes I get lonely at night.',
                    'A lonely bird sings.'
                ]
            }
        ],
        // ë ˆìŠ¨4ë¶€í„° ë ˆìŠ¨8ê¹Œì§€ ë™ì¼í•˜ê²Œ ë‹¨ì–´ì™€ ì˜ˆë¬¸ì„ ì‘ì„±í•©ë‹ˆë‹¤.
        'ë ˆìŠ¨4': [
            {
                english: 'townhouse',
                korean: 'ì—°ë¦½ì£¼íƒ',
                examples: [
                    'They moved into a townhouse.',
                    'The townhouse has three floors.',
                    'Our townhouse is near the park.'
                ]
            },
            {
                english: 'cookie',
                korean: 'ì¿ í‚¤',
                examples: [
                    'She baked chocolate chip cookies.',
                    'Can I have a cookie?',
                    'The cookie jar is empty.'
                ]
            },
            {
                english: 'arrive',
                korean: 'ë„ì°©í•˜ë‹¤',
                examples: [
                    'We will arrive soon.',
                    'They arrive at school early.',
                    'When did you arrive?'
                ]
            },
            {
                english: 'plant',
                korean: '(ì‹ë¬¼ì„) ì‹¬ë‹¤',
                examples: [
                    'Letâ€™s plant flowers in the garden.',
                    'They plant seeds in the soil.',
                    'She likes to plant trees.'
                ]
            },
            {
                english: 'walk',
                korean: 'ê±·ë‹¤',
                examples: [
                    'Letâ€™s walk to the store.',
                    'He can walk fast.',
                    'They walk in the park every day.'
                ]
            },
            {
                english: 'hug',
                korean: 'ê»´ì•ˆë‹¤',
                examples: [
                    'She gave her mom a big hug.',
                    'Hugs make me happy.',
                    'They hug each other.'
                ]
            },
            {
                english: 'come',
                korean: 'ì˜¤ë‹¤',
                examples: [
                    'Please come to my party.',
                    'He will come tomorrow.',
                    'Can you come with me?'
                ]
            },
            {
                english: 'happy',
                korean: 'í–‰ë³µí•œ',
                examples: [
                    'She feels happy today.',
                    'The song makes me happy.',
                    'Happy birthday to you!'
                ]
            }
        ],
        'ë ˆìŠ¨5': [
            {
                english: 'car',
                korean: 'ìë™ì°¨',
                examples: [
                    'They drive a blue car.',
                    'The car is parked outside.',
                    'She washes the car every week.'
                ]
            },
            {
                english: 'parking lot',
                korean: 'ì£¼ì°¨ì¥',
                examples: [
                    'The parking lot is full.',
                    'We left the car in the parking lot.',
                    'Letâ€™s meet at the parking lot.'
                ]
            },
            {
                english: 'school',
                korean: 'í•™êµ',
                examples: [
                    'We go to school together.',
                    'School starts at 8 AM.',
                    'She loves her school.'
                ]
            },
            {
                english: 'shoulder',
                korean: 'ì–´ê¹¨',
                examples: [
                    'He carried the bag on his shoulder.',
                    'She tapped me on the shoulder.',
                    'My shoulder hurts.'
                ]
            },
            {
                english: 'stand',
                korean: 'ì„œìˆë‹¤',
                examples: [
                    'Please stand up.',
                    'They stand in a line.',
                    'He can stand on one foot.'
                ]
            },
            {
                english: 'tap',
                korean: 'í†¡í†¡ ì¹˜ë‹¤',
                examples: [
                    'She taps the drum softly.',
                    'Tap the screen to start.',
                    'He taps his foot to the music.'
                ]
            },
            {
                english: 'huge',
                korean: 'ê±°ëŒ€í•œ',
                examples: [
                    'The elephant is huge.',
                    'They saw a huge ship.',
                    'Thatâ€™s a huge sandwich!'
                ]
            },
            {
                english: 'first',
                korean: 'ì²« ë²ˆì§¸ì˜',
                examples: [
                    'She won first prize.',
                    'This is my first time here.',
                    'He finished first in the race.'
                ]
            }
        ],
        'ë ˆìŠ¨6': [
            {
                english: 'office',
                korean: 'ì‚¬ë¬´ì‹¤',
                examples: [
                    'My mom works in an office.',
                    'The office is on the third floor.',
                    'He went to the office for a meeting.'
                ]
            },
            {
                english: 'morning',
                korean: 'ì•„ì¹¨',
                examples: [
                    'Good morning!',
                    'She jogs every morning.',
                    'The sun rises in the morning.'
                ]
            },
            {
                english: 'teacher',
                korean: 'ì„ ìƒë‹˜',
                examples: [
                    'Our teacher is kind.',
                    'I gave my teacher an apple.',
                    'She wants to be a teacher.'
                ]
            },
            {
                english: 'bulletin board',
                korean: 'ê²Œì‹œíŒ',
                examples: [
                    'Look at the bulletin board for news.',
                    'They pinned a notice on the bulletin board.',
                    'The bulletin board is full of pictures.'
                ]
            },
            {
                english: 'student',
                korean: 'í•™ìƒ',
                examples: [
                    'She is a good student.',
                    'The students are in the classroom.',
                    'He helps other students.'
                ]
            },
            {
                english: 'name',
                korean: 'ì´ë¦„',
                examples: [
                    'What is your name?',
                    'She wrote her name on the paper.',
                    'They called his name.'
                ]
            },
            {
                english: 'inside',
                korean: 'ì•ˆìœ¼ë¡œ',
                examples: [
                    'Letâ€™s go inside.',
                    'The cat is inside the box.',
                    'He looked inside the bag.'
                ]
            }
        ],
        'ë ˆìŠ¨7': [
            {
                english: 'classroom',
                korean: 'êµì‹¤',
                examples: [
                    'Our classroom is big.',
                    'They are decorating the classroom.',
                    'Please be quiet in the classroom.'
                ]
            },
            {
                english: 'library',
                korean: 'ë„ì„œê´€',
                examples: [
                    'She borrowed a book from the library.',
                    'The library is open today.',
                    'We study at the library.'
                ]
            },
            {
                english: 'science',
                korean: 'ê³¼í•™',
                examples: [
                    'Science is my favorite subject.',
                    'They did a science experiment.',
                    'He is reading a science book.'
                ]
            },
            {
                english: 'lab',
                korean: 'ì‹¤í—˜ì‹¤',
                examples: [
                    'We wear goggles in the lab.',
                    'The lab is full of equipment.',
                    'She works in a science lab.'
                ]
            },
            {
                english: 'rule',
                korean: 'ê·œì¹™',
                examples: [
                    'Follow the rules.',
                    'No running is a school rule.',
                    'They learned the game rules.'
                ]
            },
            {
                english: 'pass',
                korean: 'ì§€ë‚˜ê°€ë‹¤',
                examples: [
                    'Letâ€™s pass through the gate.',
                    'The bus will pass soon.',
                    'They pass by the shop every day.'
                ]
            },
            {
                english: 'near',
                korean: 'ê°€ê¹Œìš´',
                examples: [
                    'The park is near my house.',
                    'She sits near the window.',
                    'We are near the finish line.'
                ]
            }
        ],
        'ë ˆìŠ¨8': [
            {
                english: 'book',
                korean: 'ì±…',
                examples: [
                    'I am reading a fun book.',
                    'She wrote a book.',
                    'Books are on the shelf.'
                ]
            },
            {
                english: 'student card',
                korean: 'í•™ìƒì¦',
                examples: [
                    'Show your student card.',
                    'He lost his student card.',
                    'The student card has her photo.'
                ]
            },
            {
                english: 'name tag',
                korean: 'ì´ë¦„í‘œ',
                examples: [
                    'She wears a name tag.',
                    'The name tag says "Kim".',
                    'Make a name tag for the party.'
                ]
            },
            {
                english: 'uncle',
                korean: 'ì‚¼ì´Œ',
                examples: [
                    'My uncle visits us.',
                    'He is my favorite uncle.',
                    'Uncle Bob tells funny stories.'
                ]
            },
            {
                english: 'borrow',
                korean: 'ë¹Œë¦¬ë‹¤',
                examples: [
                    'Can I borrow your pencil?',
                    'She will borrow a book.',
                    'They borrow games from the library.'
                ]
            },
            {
                english: 'need',
                korean: 'í•„ìš”í•˜ë‹¤',
                examples: [
                    'I need some help.',
                    'Do you need anything?',
                    'We need to hurry.'
                ]
            }
        ]
    };

    let selectedLesson = null;
    let wordIndex = 0;
    let phase = 0;
    let quizData = [];
    let totalQuestions = 0;
    let incorrectAnswers = 0;

    // ë ˆìŠ¨ ë¦¬ìŠ¤íŠ¸ ìƒì„±
    const lessonList = document.getElementById('lesson-list');
    for (let lesson in lessons) {
        const li = document.createElement('li');
        const button = document.createElement('button');
        button.textContent = lesson;
        button.onclick = () => startLesson(lesson);
        li.appendChild(button);
        lessonList.appendChild(li);
    }
    document.getElementById('lesson-selection').style.display = 'block';

    function startLesson(lesson) {
        selectedLesson = lessons[lesson];
        wordIndex = 0;
        phase = 0;
        document.getElementById('lesson-selection').style.display = 'none';
        document.getElementById('content').style.display = 'block';
        showWord();
    }

    function showWord() {
        const word = selectedLesson[wordIndex];
        document.getElementById('english-word').textContent = word.english;
        document.getElementById('korean-meaning').textContent = word.korean;
        document.getElementById('examples').classList.add('hidden');
    }

    document.getElementById('show-examples').onclick = function() {
        const word = selectedLesson[wordIndex];
        const examples = word.examples;
        const exampleList = document.getElementById('example-sentences');
        exampleList.innerHTML = '';
        examples.forEach(sentence => {
            const li = document.createElement('li');
            li.textContent = sentence;
            exampleList.appendChild(li);
        });
        document.getElementById('examples').classList.remove('hidden');
    };

    document.getElementById('next-word').onclick = function() {
        wordIndex++;
        if (wordIndex < selectedLesson.length) {
            showWord();
        } else {
            document.getElementById('content').style.display = 'none';
            startQuiz();
        }
    };

    function startQuiz() {
        phase++;
        wordIndex = 0;
        if (phase === 1) {
            quizData = selectedLesson.slice();
            shuffleArray(quizData);
            document.getElementById('quiz-type').textContent = 'ğŸ“ ì˜ë‹¨ì–´ë¥¼ ë³´ê³  ëœ»ì„ ê³ ë¥´ì„¸ìš”.';
            nextQuizQuestion();
        } else if (phase === 2) {
            quizData = selectedLesson.slice();
            shuffleArray(quizData);
            document.getElementById('quiz-type').textContent = 'ğŸ“ ëœ»ì„ ë³´ê³  ì˜ë‹¨ì–´ë¥¼ ê³ ë¥´ì„¸ìš”.';
            nextQuizQuestion();
        } else if (phase === 3) {
            quizData = selectedLesson.slice();
            shuffleArray(quizData);
            document.getElementById('quiz-type').textContent = 'ğŸ“ ë‹¨ì–´ì˜ ì² ìë¥¼ ì™„ì„±í•˜ì„¸ìš”.';
            nextSpellingQuestion();
        } else {
            showResults();
        }
    }

    function nextQuizQuestion() {
        if (wordIndex < quizData.length) {
            const word = quizData[wordIndex];
            totalQuestions++;
            document.getElementById('quiz-question').textContent = phase === 1 ? word.english : word.korean;
            const options = generateOptions(word);
            const optionsList = document.getElementById('quiz-options');
            optionsList.innerHTML = '';
            options.forEach(option => {
                const li = document.createElement('li');
                const button = document.createElement('button');
                button.textContent = option;
                button.onclick = () => checkAnswer(option, word);
                li.appendChild(button);
                optionsList.appendChild(li);
            });
            document.getElementById('quiz-input').classList.add('hidden');
            document.getElementById('quiz-options').classList.remove('hidden');
            document.getElementById('quiz').style.display = 'block';
        } else {
            startQuiz();
        }
    }

    function checkAnswer(selected, word) {
        const isCorrect = (phase === 1 && selected === word.korean) || (phase === 2 && selected === word.english);
        const feedback = document.getElementById('feedback');
        if (isCorrect) {
            feedback.textContent = 'ğŸŒŸ ì •ë‹µì…ë‹ˆë‹¤! ğŸŒŸ';
            feedback.className = 'result correct';
        } else {
            feedback.textContent = 'ğŸ˜¢ ì˜¤ë‹µì…ë‹ˆë‹¤.';
            feedback.className = 'result incorrect';
            incorrectAnswers++;
        }
        wordIndex++;
        setTimeout(() => {
            feedback.textContent = '';
            nextQuizQuestion();
        }, 1000);
    }

    function generateOptions(correctWord) {
        const options = [];
        options.push(phase === 1 ? correctWord.korean : correctWord.english);
        while (options.length < 4) {
            const randomWord = selectedLesson[Math.floor(Math.random() * selectedLesson.length)];
            const option = phase === 1 ? randomWord.korean : randomWord.english;
            if (!options.includes(option)) {
                options.push(option);
            }
        }
        shuffleArray(options);
        return options;
    }

    function nextSpellingQuestion() {
        if (wordIndex < quizData.length) {
            const word = quizData[wordIndex];
            totalQuestions++;
            document.getElementById('quiz-question').textContent = word.korean;
            const maskedWord = maskWord(word.english);
            document.getElementById('quiz-options').classList.add('hidden');
            document.getElementById('quiz-input').classList.remove('hidden');
            document.getElementById('user-input').value = '';
            document.getElementById('user-input').placeholder = maskedWord;
            document.getElementById('quiz').style.display = 'block';
        } else {
            startQuiz();
        }
    }

    document.getElementById('submit-answer').onclick = function() {
        const userAnswer = document.getElementById('user-input').value.trim();
        const word = quizData[wordIndex];
        const isCorrect = userAnswer.toLowerCase() === word.english.toLowerCase();
        const feedback = document.getElementById('feedback');
        if (isCorrect) {
            feedback.textContent = 'ğŸŒŸ ì •ë‹µì…ë‹ˆë‹¤! ğŸŒŸ';
            feedback.className = 'result correct';
        } else {
            feedback.textContent = `ğŸ˜¢ ì˜¤ë‹µì…ë‹ˆë‹¤. ì •ë‹µì€ "${word.english}" ì…ë‹ˆë‹¤.`;
            feedback.className = 'result incorrect';
            incorrectAnswers++;
        }
        wordIndex++;
        setTimeout(() => {
            feedback.textContent = '';
            nextSpellingQuestion();
        }, 2000);
    };

    function maskWord(word) {
        const length = word.length;
        const maskCount = Math.max(1, Math.floor(length / 2));
        let maskedWord = word.split('');
        let indices = [];
        while (indices.length < maskCount) {
            const index = Math.floor(Math.random() * length);
            if (!indices.includes(index) && word[index] !== ' ') {
                indices.push(index);
                maskedWord[index] = '_';
            }
        }
        return maskedWord.join('');
    }

    function showResults() {
        document.getElementById('quiz').style.display = 'none';
        document.getElementById('results').style.display = 'block';
        document.getElementById('total-questions').textContent = totalQuestions;
        document.getElementById('incorrect-answers').textContent = incorrectAnswers;
    }

    // ë°°ì—´ ì„ê¸° í•¨ìˆ˜
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }
</script>

</body>
</html>
